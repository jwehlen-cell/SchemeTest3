erDiagram
  %% ---------- Legacy (CSS) ----------
  LEG_EVENT {
    int EVID PK
  }
  LEG_ORIGIN {
    int ORID PK
  }
  LEG_ARRIVAL {
    int ARID PK
  }
  LEG_AMPLITUDE {
    int AMPID PK
  }
  LEG_ASSOC {
    int ORID PK
    int ARID PK
  }
  LEG_NETMAG {
    int NETMAGID PK
  }
  LEG_STAMAG {
    int MAGID PK
  }
  LEG_WFDISC {
    int WFID PK
  }
  LEG_QCMASK {
    int QCMASKID PK
  }
  LEG_REMARK {
    int REMARK_ID PK
  }

  %% ---------- Plus3 (NDC Plus 2) ----------
  P3_EVENT {
    int EVID PK
  }
  P3_LOCATION_SOLUTION {
    int ORID PK
  }
  P3_SIGNAL_DETECTION_HYPOTHESIS {
    int ARID PK
  }
  P3_AMPLITUDE {
    int AMPID PK
  }
  P3_LOCATION_BEHAVIOR {
    int LOCATION_BEHAVIOR_ID PK
  }
  P3_NETWORK_MAGNITUDE_SOLUTION {
    int NETMAGID PK
  }
  P3_STATION_MAGNITUDE_SOLUTION {
    int MAGID PK
  }
  P3_CHANNEL_SEGMENT_WAVEFORM {
    int WFID PK
  }
  P3_QC_SEGMENT_VERSION {
    int QCMASKID PK
  }
  P3_REMARK {
    int REMARK_ID PK
  }

  %% ---------- Mapping (Legacy -> Plus3) ----------
  LEG_EVENT ||--|| P3_EVENT : "maps to"
  LEG_ORIGIN ||--|| P3_LOCATION_SOLUTION : "maps to"
  LEG_ARRIVAL ||--|| P3_SIGNAL_DETECTION_HYPOTHESIS : "maps to"
  LEG_AMPLITUDE ||--|| P3_AMPLITUDE : "maps to"
  LEG_ASSOC ||--|| P3_LOCATION_BEHAVIOR : "maps to"
  LEG_NETMAG ||--|| P3_NETWORK_MAGNITUDE_SOLUTION : "maps to"
  LEG_STAMAG ||--|| P3_STATION_MAGNITUDE_SOLUTION : "maps to"
  LEG_WFDISC ||--|| P3_CHANNEL_SEGMENT_WAVEFORM : "maps to"
  LEG_QCMASK ||--|| P3_QC_SEGMENT_VERSION : "maps to"
  LEG_REMARK ||--|| P3_REMARK : "maps to"